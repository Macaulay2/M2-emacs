# @configure_input@
include ../../include/config.Makefile
VPATH = @srcdir@
ARGS = -q --silent --stop -e errorDepth=0
.PHONY : all clean distclean install check default
all install:: M2-symbols.el M2-symbols
M2-symbols M2-symbols.el : makesyms.m2 ../bin/M2$(EXE); ../bin/M2$(EXE) $(ARGS) @srcdir@/makesyms.m2 -e 'exit 0' </dev/null
all install:: emacs-hlp.txt
emacs-hlp.txt: makehlp.m2 ../bin/M2$(EXE); ../bin/M2$(EXE) $(ARGS) @srcdir@/makehlp.m2 -e 'exit 0' </dev/null
all install:: emacs.m2
emacs.m2: makem2.m2 ../bin/M2$(EXE); ../bin/M2$(EXE) $(ARGS) @srcdir@/makem2.m2 -e 'exit 0' </dev/null
clean::; rm -f M2-symbols.el emacs-hlp.txt emacs.m2 M2-symbols
distclean:: clean; rm -f Makefile
$(emacsdocdir) $(emacsdir) :; $(INSTALL) -d "$@"
install:: $(emacsdir)
all    :: M2-mode.el M2.el M2-symbols.el M2-init.el
install:: M2-mode.el M2.el M2-symbols.el M2-init.el; $(INSTALL_DATA) $^ $(emacsdir)
install:: $(emacsdocdir)
install:: emacs-hlp.txt emacs.m2 README; $(INSTALL_DATA) $^ $(emacsdocdir)
Makefile : Makefile.in; cd ../..; ./config.status Macaulay2/emacs/Makefile
all:: M2-init.el
M2-init.el : M2-init.el.in; cd ../..; ./config.status Macaulay2/emacs/M2-init.el
clean::; rm -rf M2-init.el

# Local Variables:
# compile-command: "make -C $M2BUILDDIR/Macaulay2/emacs "
# End:
